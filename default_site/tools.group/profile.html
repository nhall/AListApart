<!doctype html>
	
<!--[if lt IE 7]> <html class="no-js ie ie6 lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie ie7 lt-ie10 lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie ie8 lt-ie10 lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie ie9 lt-ie10" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>

	<meta charset="utf-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<meta name="viewport" content="width=device-width">
	
	<link rel="stylesheet" href="/d/_repo/site_assets/css/reset.css" />
	<link rel="stylesheet" href="/d/_repo/site_assets/css/editables.css" />

	<script src="/d/_repo/site_assets/js/libs/prefixfree.min.js"></script>

	<script src="/d/_repo/site_assets/js/libs/modernizr-dev.js"></script>

	<title>A List Apart Profile Editor</title>
		
</head>

<body data-xid="{XID_HASH}">

	{if logged_in}
	
	<header>
	
		<h1>
			<img src="/d/_repo/site_assets/img/favicons/apple-touch-icon-57x57.png" alt="">
			The ALA Profile Editor
		</h1>

		{if logged_in_group_id == "1" || logged_in_group_id == "6" || logged_in_group_id == "7" || logged_in_group_id == "10"}

		<p>We don't use everything in here yet, but we may in the future.</p>

		<p>ALA staff and authors! Anyone can use this form, but you get optional extras like social stuff and a nice big photo.</p>

		{/if}
		
	</header>
	
	<hr>

	{exp:user:edit 
		member_id="{segment_3}" 
		dynamic="off" 
		require="screen_name|email{if logged_in_group_id == "1" OR logged_in_group_id == "6" OR logged_in_group_id == "7" OR logged_in_group_id == "10"}|first_name|last_name{/if}"
		return="/tools/profile/{member_id}/good-show" 
		form:id="form1"}
	
		<h2>The Basics</h2>
		
		<fieldset>
			
			<label>
				Username:
				<input type="text" value="{username}" readonly>
				<span class="note">Readonly. If you must change this, get in touch.</span>
			</label>
		
			<label>
				Visible Name: <small>required</small>
				<input name="screen_name" type="text" value="{screen_name}" data-validate="onblur" data-type="any" data-isvalid="{if screen_name}yes{/if}" data-error="what's your name? it can be anything you want." required>
				<span class="note">For reasons passing understanding (#eecms cough), this must be unique.</span>
			</label>
			
			{if group_id == "1" OR group_id == "6" OR group_id == "7" OR group_id == "10"}
			
			<label>
				First Name: <small>(required for authors)</small>
				<input name="first_name" type="text" value="{first_name}" data-validate="onblur" data-type="any" data-isvalid="{if first_name}yes{/if}" data-error="authors: we need a first name." required>
			</label>
		
			<label>
				Last Name: <small>(required for authors)</small>
				<input name="last_name" type="text" value="{last_name}" data-validate="onblur" data-type="any" data-isvalid="{if last_name}yes{/if}" data-error="authors: we need a last name too." required>
			</label>
			
			{/if}
		
			<label>
				Email: <small>required</small>
				<input name="email" type="email" value="{email}" data-validate="onblur" data-type="email" data-isvalid="{if email}yes{/if}" data-error="we need a valid email adress!" required>
			</label>
			
			<label>
				Change Password:
				<input id="password" name="password" type="password" value="" data-validate="onblur" data-type="matching" data-mustmatch="password_confirm" data-isvalid="yes" data-error="this needs to match the password confirmation field.">
				<span class="note">Make it good.</span>
			</label>
			
			<label>
				Password Confirmation:
				<input id="password_confirm" name="password_confirm" type="password" value="" data-validate="onblur" data-type="matching" data-mustmatch="password" data-isvalid="yes" data-error="this needs to match the password field.">
				<span class="note">Make it the same.</span>
			</label>
	
		</fieldset>
		
		<p class="align-center">
			<button type="submit" class="spinner">
				<span class="label">Submit</span>
				<span class="spinner"></span>
			</button>
		</p>
	
	{/exp:user:edit}
		
	<hr>
	
	{exp:user:edit 
		member_id="{segment_3}" 
		dynamic="off" 
		return="/tools/profile/{member_id}/good-show" 
		form:id="form2"}
		
		<h2>Social Stuff</h2>
		
		<fieldset>
			
			<label>
				Personal URL:
				<input name="url" type="text" value="{url}">
			</label>
			
			<label>
				Twitter:
				<input name="twitter" type="text" value="{twitter}" data-validate="onblur" data-type="no-url" data-isvalid="{if twitter}yes{/if}" data-error="we just need your username, not the full URL">
				<span class="note">username only, no @</span>
			</label>
			
			<label>
				Facebook:
				<input name="facebook" type="text" value="{facebook}" data-validate="onblur" data-type="no-url" data-isvalid="{if facebook}yes{/if}" data-error="we just need your username, not the full URL">
				<span class="note">username only</span>
			</label>
			
			{if group_id == "1" OR group_id == "6" OR group_id == "7" OR group_id == "10"}
			
			<h3>Extra social stuff for authors:</h3>
			
			<label>
				GitHub:
				<input name="github" type="text" value="{github}" data-validate="onblur" data-type="no-url" data-isvalid="{if github}yes{/if}" data-error="we just need your username, not the full URL">
				<span class="note">username only</span>
			</label>
			
			<label>
				Dribble:
				<input name="dribbble" type="text" value="{dribbble}" data-validate="onblur" data-type="no-url" data-isvalid="{if dribbble}yes{/if}" data-error="we just need your username, not the full URL">
				<span class="note">username only</span>
			</label>
			
			<label>
				Google+:
				<input name="googleplus" type="text" value="{googleplus}" data-validate="onblur" data-type="url" data-isvalid="{if googleplus}yes{/if}" data-error="this one needs to be a full URL">
				<span class="note">Add the whole URL for your profile</span>
				<span class="note">example 1: http://google.com/+TimMurtaugh</span>
				<span class="note">example 2: https://plus.google.com/104877852135164107223â€Ž</span>
			</label>
			
			{/if}
			
		</fieldset>
		
		{if group_id == "1" OR group_id == "6" OR group_id == "7" OR group_id == "10"}
		
		<fieldset>
				
			<label>
				Bio: <small>(required for authors)</small>
				<textarea name="bio" data-autoresize style="height: 100px;" data-validate="onblur" data-type="any" data-isvalid="{if bio}yes{/if}" required>{bio}</textarea>
				<span class="note">links encouraged</span>
			</label>
	
		</fieldset>
		
		{/if}
		
		<p class="align-center">
			<button type="submit" class="spinner">
				<span class="label">Submit</span>
				<span class="spinner"></span>
			</button>
		</p>
		
	{/exp:user:edit}
		
	<hr>
	
	{exp:user:edit 
		member_id="{segment_3}" 
		dynamic="off" 
		return="/tools/profile/{member_id}/good-show" 
		form:id="form3"}
		
		<h2>Avatar</h2>
				
		<p>Avatars should be square, and at least 200x200. If you sign in via Twitter or Facebook, we may have grabbed your avatar from there; you can replace it.</p>
		
		<fieldset>
			
			<figure>
			{if avatar_filename != ""}
				<img src="{avatar_url}{avatar_filename}" alt="">
				{if avatar_width < "201" OR avatar_height < "201"}
				<span class="note">(at {avatar_width}x{avatar_height} this avatar is smaller than we would like)</span>
				{/if}
			{if:else}
				oh nose, no avatar
			{/if}
			
			</figure>
			
			<label>
				Upload an avatar:
				<input type="file" name="avatar_filename" />
			</label>
			
		</fieldset>
	
		{if group_id == "1" OR group_id == "6" OR group_id == "7" OR group_id == "10"}
		
		<h2>Author Photo</h2>
	
		<p>Author photos should be at least 250x250. Our editors may crop and resize if needed.</p>
		
		<fieldset>
		
			<figure>
			{if photo_filename != ""}
				<img style="max-width: 100%;" src="{photo_url}{photo_filename}" alt="" />
				{if photo_width < "400" OR photo_height < "400"}
				<span class="note">(at {photo_width}x{photo_height} this photo smaller than we would like)</span>
				{/if}
			{if:else}
				gracious, no photo
			{/if}
			</figure>
			
			<label>
				Upload photo:
				<input type="file" name="photo_filename" />
			</label>
			
		</fieldset>
		
		{/if}
		
		<p class="align-center">
			<button type="submit" class="spinner">
				<span class="label">Submit</span>
				<span class="spinner"></span>
			</button>
		</p>
		
	{/exp:user:edit}
	
	{if segment_4 == 'good-show'}<div class="good-show">Updates saved.</div>{/if}
	
	{if:else}
	
	{redirect="tools/log-in"}
	
	{/if}

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/d/_repo/site_assets/js/libs/jquery-1.8.2.min.js"><\/script>')</script>

<script src="/d/_repo/site_assets/js/libs/matchmedia.js"></script>
<script src="/d/_repo/site_assets/js/libs/picturefill.js"></script>
<script src="/d/_repo/site_assets/js/libs/breakpoints.js"></script>
<script src="/d/_repo/site_assets/js/libs/jquery.form.min.js"></script>
<script src="/d/_repo/site_assets/js/form-stuff.js"></script>
<script src="/d/_repo/site_assets/js/script.js"></script>


<!--<script>
	var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
	(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
	s.parentNode.insertBefore(g,s)}(document,'script'));
</script>-->

</body>
</html>